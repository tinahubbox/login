<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style_guide.css">
    <link rel="stylesheet" type="text/css" href="style_login.css">
  
    <title>login</title>
</head>
<body>
    <header id="header">
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <div class="col-3 logo-container">
                        <img src="https://cdn3.autobro.it/2024/08/logo-home-1.png" alt="logo-header" class="logo-header">
                       
                    </a>
                </div>
                <div class="col-9 col-lg-12 menu-desktop">
                    <nav class="header-menu">
                        <ul>
                            <li class="menu-item">
                                <a href="https://www.autobro.it">
                                    <img class="light" src="https://www.autobro.it/wp-content/themes/autobro/assets/images/home_icon.webp" alt="">
                                    <img class="dark" src="https://www.autobro.it/wp-content/themes/autobro/assets/images/home_icon_black.webp" alt="">
                                </a>
                            </li>
                            <li class="menu-item menu-item-has-children">
                                <a href="https://www.autobro.it/auto">
                                    Compra
                                </a>
                                <div class="sub-menu container-fluid">
                                    <div class="row">
                                        <div class="col-lg-6 left">
                                            <div class="box-ctas">
                                                <div class="cta">
                                                </div>
                                            </div>
                                            <div class="box-bro-ti-spiega row align-items-flex-start">
                                                <div class="col-lg-9">
                                                </div>
                                                <div class="col-lg-3">
                                                    <img class="menu-decoration" src="https://www.autobro.it/wp-content/themes/autobro/assets/images/features.png" alt="">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 right">
                                            <div class="box-faqs">
                                            </div>
                                            <div class="box-top-brands">
                                                <h4 class="menu-title">
                                                    Le marche più vendute
                                                </h4>
                                                <ul class="row brands">
                                                    <div class="col-lg-6">
                                                        </li>
                                                        <li class="brand">
                                                            <a href="/auto/?marca=jeep">JEEP</a>
                                                        </li>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <li class="brand">
                                                            <a href="/auto/?marca=fiat">FIAT</a>
                                                        </li>
                                                        <li class="brand">
                                                            <a href="/auto/?marca=alfa%20romeo">ALFA ROMEO</a>
                                                        </li>
                                                    </div>
                                                </ul>
                                            </div>
                                            <div class="box-top-models">
                                                <h4 class="menu-title">
                                                    I modelli più venduti
                                                </h4>
                                                <ul class="row models">
                                                    <div class="col-lg-6">
                                                        <li class="brand">
                                                            <a href="/auto/?marca=citroen&amp;modello=c3">CITROEN C3</a>
                                                        </li>
                                                        <li class="brand">
                                                            <a href="/auto/?marca=jeep&amp;modello=renegade">JEEP
                                                                RENEGADE</a>
                                                        </li>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <li class="brand">
                                                            <a href="/auto/?marca=fiat&amp;modello=500X">FIAT 500X</a>
                                                        </li>
                                                        <li class="brand">
                                                        </li>
                                                    </div>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="menu-item menu-item-has-children">
                                    <a target="_blank" href="https://lacompriamonoi.it">
                                        Vendi
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" viewBox="0 0 24 24" fill="none">
                                            <rect width="24" height="24" fill="none"></rect>
                                            <path d="M17 9.5L12 14.5L7 9.5" stroke="white" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </a>
                                    <div class="sub-menu container-fluid sub-menu-vendi">
                                        <div class="row">
                                            <div class="col-lg-6 left">
                                                <div class="box-ctas">
                                                    <div class="cta">
                                                        <h4 class="menu-title">
                                                            Valuta la tua auto in 3 step
                                                        </h4>
                                                        <p>
                                                            Per le valutazioni dell'usato Autobro si affida a
                                                            LaCompriamoNoi.it
                                                        </p>
                                                        <a target="_blank" href="https://lacompriamonoi.it">
                                                            Valuta ora la tua auto
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="15" viewBox="0 0 20 15" fill="none">
                                                                <path d="M0 7.91943L17.8617 7.91944" stroke="#233333" stroke-miterlimit="10"></path>
                                                                <path d="M11.7134 1.16504L18.3697 7.90586L11.7134 14.6478" stroke="#233333" stroke-miterlimit="10">
                                                                </path>
                                                            </svg>
                                                        </a>
                                                    </div>
                                                </div>
                                                <div class="box-bro-ti-spiega row align-items-flex-start">
                                                    <div class="col-lg-9">
                                                        <h4 class="menu-title">
                                                            Bro ti spiega
                                                        </h4>
                                                        <ul class="articoli">
                                                            <li>
                                                                <h5 class="article-title">
                                                                    <a href="/ritiro-sotto-casa">
                                                                        Ritiro sotto casa
                                                                    </a>
                                                                    <p class="article-description">
                                                                        Tutta la comodità dei servizi di Autobro anche
                                                                        quando vendi
                                                                    </p>
                                                                </h5>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div class="col-lg-3">
                                                        <img class="menu-decoration" src="https://www.autobro.it/wp-content/themes/autobro/assets/images/features.png" alt="">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 right">
                                                <div class="box-faqs">
                                                    <h4 class="menu-title">
                                                        Domande frequenti
                                                    </h4>
                                                    <p>
                                                        Le domande più frequenti di chi vende
                                                    </p>
                                                    <ul class="faqs">
                                                        <li class="faq">
                                                            <a href="/domande-frequenti#valutazione-faq">Come avviene la
                                                                valutazione della mia auto?</a>
                                                        </li>
                                                        <li class="faq">
                                                            <a href="/domande-frequenti#passaggio-proprieta-faq">Come
                                                                funziona il passaggio di proprietà?</a>
                                                        </li>
                                                        <li class="faq">
                                                            <a href="/domande-frequenti#no-permuta-faq">Posso vendere la mia
                                                                auto senza acquistarne una?</a>
                                                        </li>
                                                        <a class="read-more" href="/domande-frequenti">
                                                            Tutte le FAQs
                                                        </a>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </li>
                                <li class="menu-item menu-item-has-children">
                                    <a href="/scopri-autobro/">
                                        Scopri

                                            <rect width="24" height="24" fill="none"></rect>
                                            <path d="M17 9.5L12 14.5L7 9.5" stroke="white" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </a>
                                    <div class="sub-menu container-fluid sub-menu-scopri">
                                        <div class="row">
                                            <div class="col-lg-6 left">
                                                <div class="box-ctas">
                                                    <div class="cta">
                                                        <div>
                                                            <h4 class="menu-title">
                                                                Siamo il futuro
                                                            </h4>
                                                            <p>
                                                                Autobro ti permette di acquistare la tua auto comodamente da
                                                                casa o da dove vuoi tu
                                                            </p>
                                                        </div>
                                                        <a href="/come-funziona">
                                                            Scopri come funziona
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="15" viewBox="0 0 20 15" fill="none">
                                                                <path d="M0 7.91943L17.8617 7.91944" stroke="#233333" stroke-miterlimit="10"></path>
                                                                <path d="M11.7134 1.16504L18.3697 7.90586L11.7134 14.6478" stroke="#233333" stroke-miterlimit="10">
                                                                </path>
                                                            </svg>
                                                        </a>
                                                    </div>
                                                </div>
                                                <div class="box-bro-ti-spiega row align-items-flex-start">
                                                    <div class="col-lg-9">
                                                        <h4 class="menu-title">
                                                            Bro ti spiega
                                                        </h4>
                                                        <ul class="articoli">
                                                            <li>
                                                                <h5 class="article-title">
                                                                    <a href="/dettagli-della-tua-auto">
                                                                        Meglio che dal vivo
                                                                    </a>
                                                                    <p class="article-description">
                                                                        Esplora ogni minimo dettaglio
                                                                    </p>
                                                                </h5>
                                                            </li>
                                                            <li>
                                                                <h5 class="article-title">
                                                                    <a href="/consegna-sotto-casa">
                                                                        Sotto casa tua
                                                                    </a>
                                                                    <p class="article-description">
                                                                        Consegniamo l'auto dove tu desideri
                                                                    </p>
                                                                </h5>
                                                            </li>
                                                            <li>
                                                                <h5 class="article-title">
                                                                    <a href="/14-giorni-per-innamorarti-della-tua-auto">
                                                                        14 giorni, poi decidi
                                                                    </a>
                                                                    <p class="article-description">
                                                                        Hai 14 giorni per innamorarti della tua auto
                                                                    </p>
                                                                </h5>
                                                            </li>
                                                            <li>
                                                                <h5 class="article-title">
                                                                    <a href="/autobro-in-tutta-trasparenza">
                                                                        Standard di qualità di Autobro
                                                                    </a>
                                                                    <p class="article-description">
                                                                        Il reale stato dell'auto
                                                                    </p>
                                                                </h5>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div class="col-lg-3">
                                                        <img class="menu-decoration" src="https://www.autobro.it/wp-content/themes/autobro/assets/images/features.png" alt="">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 right">
                                                <div class="box-faqs">
                                                    <h4 class="menu-title">
                                                        Domande frequenti
                                                    </h4>
                                                    <p>
                                                        Massima trasparenza, sempre.
                                                    </p>
                                                    <ul class="faqs">
                                                        <li class="faq">
                                                            <a href="/domande-frequenti#coperture-garanzie-faq">Cosa coprono
                                                                le garanzie?</a>
                                                        </li>
                                                        <li class="faq">
                                                            <a href="/domande-frequenti#faq-pagamenti">Come funziona il
                                                                pagamento?</a>
                                                        </li>
                                                        <li class="faq">
                                                            <a href="/domande-frequenti#chi-siamo-autobro-faq">Chi è
                                                                Autobro?</a>
                                                        </li>
                                                        <a class="read-more" href="/domande-frequenti">
                                                            Tutte le FAQs
                                                        </a>
                                                    </ul>
                                                </div>
                                                <div class="box-consigli">
                                                    <h4 class="menu-title">
                                                        L'esperto di auto risponde
                                                    </h4>
                                                    <p>
                                                        Entra nella nostra sezione news. <br>Troverai consigli sul mondo
                                                        auto e non solo...
                                                    </p>
                                                    <div class="cta">
                                                        <a href="/lesperto-risponde">
                                                            Vai Bro!
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="15" viewBox="0 0 20 15" fill="none">
                                                                <path d="M0 7.91943L17.8617 7.91944" stroke="#233333" stroke-miterlimit="10"></path>
                                                                <path d="M11.7134 1.16504L18.3697 7.90586L11.7134 14.6478" stroke="#233333" stroke-miterlimit="10">
                                                                </path>
                                                            </svg>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="menu-item menu-item-has-children">
                                        <a href="#">
                                            Bro Stores
                                            <svg xmlns="http://www.w3.org/2000/svg" width="30" viewBox="0 0 24 24" fill="none">
                                                <rect width="24" height="24" fill="none"></rect>
                                                <path d="M17 9.5L12 14.5L7 9.5" stroke="white" stroke-linecap="round" stroke-linejoin="round"></path>
                                            </svg>
                                        </a>
                                        <div class="sub-menu container-fluid sub-menu-bro-stores">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <ul class="bro-stores">
                                                                                                                    <li>
                                                                <a href="https://www.autobro.it/bro-store/asti/">
                                                                    Asti                                                                </a>
                                                            </li>
                                                                                                                    <li>
                                                                <a href="https://www.autobro.it/bro-store/brescia/">
                                                                    Brescia                                                                </a>
                                                            </li>
                                                                                                                    <li>
                                                                <a href="https://www.autobro.it/bro-store/modena/">
                                                                    Modena                                                                </a>
                                                            </li>
                                                                                                                    <li>
                                                                <a href="https://www.autobro.it/bro-store/parma/">
                                                                    Parma                                                                </a>
                                                            </li>
                                                                                                                    <li>
                                                                <a href="https://www.autobro.it/bro-store/vicenza/">
                                                                    Vicenza                                                                </a>
                                                            </li>
                                                                                                                    <li>
                                                                <a href="https://www.autobro.it/bro-store/venezia/">
                                                                    Venezia                                                                </a>
                                                            </li>
                                                                                                                    <li>
                                                                <a href="https://www.autobro.it/bro-store/treviso/">
                                                                    Treviso                                                                </a>
                                                            </li>
                                                        
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                <li class="menu-item menu-item-last-child">
                                        Area Personale

                                </li>

                                                        </ul>

                    </nav>
                </div>
                <div class="row" id="header-hidden">
                    <div class="col">
                        <img src="https://cdn3.autobro.it/2024/06/logo-header-sticky.png" alt="logo-header" class="logo-header-sticky">
                    </div>
                    <div class="col-auto sm-auto text-end">
                       
                        <svg data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" class="menu-toggler-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6H20M4 12H20M4 18H20" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </div>
                    <div class="col-auto">
                        <svg class="menu-toggler-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6H20M4 12H20M4 18H20" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </div>
            </div>
            
            </div>
        </div>
    </header> 
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header">
          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="user menu" id="mobileMenu">
                <ul class="menu-list">
                    <li class="menu-item">
                        <a data-bs-dismiss="offcanvas" class="menu-link" href="#" onclick="showContent('preferiti')">
                            preferiti
                            <span class="arrow">›</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a data-bs-dismiss="offcanvas" class="menu-link" href="#" onclick="showContent('ricerche')">
                            ricerche salvate
                            <span class="arrow">›</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a data-bs-dismiss="offcanvas" class="menu-link" href="#" onclick="showContent('valutazione')">
                            valutazione auto
                            <span class="arrow">›</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a data-bs-dismiss="offcanvas" class="menu-link" href="#" onclick="showContent('dati')">
                            dati personali
                            <span class="arrow">›</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a data-bs-dismiss="offcanvas" class="menu-link" href="#" onclick="showContent('esci')">
                            esci
                        </a>
                    </li>
                </ul>
            </div>
        </div>
      </div>
        <div class="form-login"> 
            <h1>Accedi o registrati</h1>
            <div class="box-form">
                <form id="form">
                    <div class="label-form">
                        <label for="fname"class="">Email*:</label><br>
                    </div>
                    <div >
                        <input type="text" id="email" name="femail" value="" class="input-form"><br>
                        <span id="error-email" class="error"></span><br>
                    </div>
                    <div class="label-form">
                        <label for="name"class="">Password*:</label><br>
                    </div>
                    <div>
                        <input type="password" id="psw" name="password" value="" class="input-form"><br>
                        <span id="error-psw" class="error"></span><br>
                    </div>
                    <input type="submit" class ="button" value="accedi"><br>
                    <a href="#" class="forgot-password"> Password dimenticata?</a><br>
                    <button class ="button" onclick="window.location.href='signUp.html'">registrati</button>

                </form>
            </div>
        </div>
    <script>
     document.getElementById('form').addEventListener('submit', function (e) {
            e.preventDefault();

            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('psw').value.trim();
            let formValid = true;

            // Controllo validità dei campi
            if (!email) {
                document.getElementById('error-email').innerText = 'Campo obbligatorio';
                formValid = false;
            } else {
                document.getElementById('error-email').innerText = '';
            }

            if (!password) {
                document.getElementById('error-psw').innerText = 'Campo obbligatorio';
                formValid = false;
            } else {
                document.getElementById('error-psw').innerText = '';
            }

            // Se il form è valido, effettua l'autenticazione con OAuth2
            if (formValid) {
                fetch('https://auth.backend-dev.net/token', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'Accept': 'application/json'
                    },
                    mode: 'no-cors',
                    body: new URLSearchParams({
                        'grant_type': 'password',
                        'client_id': 'osiris', // Sostituisci con il tuo client ID
                        'username': email,
                        'password': password
                    })
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Errore di rete. Stato: ' + response.status);
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.accessToken) {
                        // Salvataggio del token di accesso nel localStorage
                        localStorage.setItem("accessToken", data.accessToken);
                        localStorage.setItem("refreshToken", data.refreshToken);
                        alert("Accesso completato!");
                        window.location.href = "Accedi.html"; // Redirige alla tua area personale o dashboard
                    } else {
                        alert("Errore durante l'autenticazione. Per favore riprova.");
                    }
                })
                .catch((error) => {
                    console.error('Errore durante l\'autenticazione:', error);
                    alert("Si è verificato un errore durante l'accesso.");
                });
            }
        });
    </script>     
</body> 
</html>
